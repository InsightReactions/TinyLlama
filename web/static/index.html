<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Tiny Llama</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#006fee">
    <meta name="msapplication-TileColor" content="#006fee">
    <meta name="theme-color" content="#006fee">
    <meta name="viewport" content="initial-scale=1">
</head>

<body class="mat-app-background mat-body" style="padding: 12px; margin-bottom: 77px;">
    <div style="display: flex; flex-wrap: wrap; justify-content: center; border-bottom: 1px solid var(--ir-border-color); padding-bottom: 12px;">
        <img src="logo_render_tinyllama.png" alt="Tiny Llama Compressed Logo" style="height: 36px; margin-left: 24px; margin-right: 24px;" />
        <p style="color: #006fee; margin-right: 5%; font-weight: 700; font-size: x-large; margin-bottom: 0; align-content: center; text-align: center; align-self: center;">Tiny Llama</p>
        <a class="header-link" href="https://github.com/InsightReactions/TinyLlama/wiki" style="padding-left: 2%;">Wiki</a>
        <div style="border: 0; border-right: 1px solid var(--ir-border-color); margin-left: 2%; margin-right: 2%;"></div>
        <a class="header-link" href="https://github.com/InsightReactions/TinyLlama/discussions">Discuss</a>
        <div style="border: 0; border-right: 1px solid var(--ir-border-color); margin-left: 2%; margin-right: 2%;"></div>
        <a class="header-link" href="https://tinyllama.insightreactions.com">News</a>
        <div style="border: 0; border-right: 1px solid var(--ir-border-color); margin-left: 2%; margin-right: 2%;"></div>
        <a class="header-link" href="https://tinyllama.insightreactions.com">About</a>
        <button class="mat-stroked-button" id="update-button" style="margin-left: 2%; font-weight: 700; cursor: pointer; display: none;" title="Click to upgrade">
          Update
        </button>
        <script>
          const updateButton = document.getElementById('update-button');
          updateButton.addEventListener('click', (e) => {
            e.preventDefault();

            fetch('/upgrade', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({}),
            })
              .then((response) => response.json())
              .then(data => {
                const upgradeLog = document.getElementById('upgrade-log');
                upgradeLog.innerHTML = data.log;

                const updateModal = document.getElementById('update-modal');
                updateModal.style.display = 'flex';
              })
              .catch((error) => console.error(error));
          });

          fetch('/hasUpdates')
            .then(response => response.json())
            .then(data => {
              const hasUpdates = data.hasUpdates;
              updateButton.style.display = hasUpdates ? 'block' : 'none';
            })
            .catch((error) => console.error(error));
        </script>
        <div class="card-frame fitArticleWidth" id="update-modal" style="display: none; flex-direction: column; justify-content: space-between; align-items: center; z-index: 1; height: 80%; padding: 12px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: var(--ir-background-color);">
          <h2>Upgrade Log</h2>
          <textarea id="upgrade-log" class="card-frame mat-card" style="height: 80%;">
          </textarea>
          <button class="mat-stroked-button" id="close-button" style="cursor: pointer; border-radius: 10px;">
            Close
          </button>
          <script>
            const umcButton = document.getElementById('close-button');
            umcButton.addEventListener('click', (e) => {
              e.preventDefault();
              const updateModal = document.getElementById('update-modal');
              updateModal.style.display = 'none';
            });
          </script>
        </div>
    </div>
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2%; gap: 12px;">
      <div class="card-frame fitArticleWidth">
        <img src="open-webui.png" style="height: 64px; padding: 12px; align-self: center;"/>
        <div class="mat-card">
            <a href="http://:" class="mat-card-title openwebui">Open WebUI</a>
            <p class="mat-card-content">Open WebUI is an extensible, feature-rich, and user-friendly self-hosted web-based AI chat interface designed to operate entirely offline. It supports various LLM runners, including Ollama and OpenAI-compatible APIs.</p>
        </div>
      </div>
      <div class="card-frame fitArticleWidth">
        <img src="stableswarmui.png" style="height: 64px; padding: 12px; align-self: center;"/>
        <div class="mat-card" >
            <a href="http://:" class="mat-card-title stableswarmui">StableSwarmUI</a>
            <p class="mat-card-content">A Modular Stable Diffusion web-based image generation interface, with an emphasis on making AI powertools easily accessible, performant, and extensible.</p>
        </div>
        <script>
          const ipAddress = window.location.href.replace(/^.*?:\/\//, '').replace(/\/.*/, '').replace(/:.*/, '')
          document.querySelector('.openwebui').href = 'http://' + ipAddress + ':8080';
          document.querySelector('.stableswarmui').href = 'http://' + ipAddress + ':7801';
        </script>
      </div>
    </div>
</body>

<footer class="mat-app-background" style="position: fixed; bottom: 0; left:12px; right:12px; padding: 12px; display: flex; flex-wrap: wrap; align-items: center; gap: 12px; border-top: 1px solid var(--ir-border-color); font-weight: 500;">
    &copy; InsightReactions LLC. All rights reserved.
    <hr style="border: 0; border-right: 0px solid var(--ir-border-color);" />
    <span>
        <img src="x-logo.svg" style="height: 10px;" alt="X Logo" />
        <a class="footer-link" href="https://twitter.com/TinyLlama_IR" style="margin-left: 0px;">@TinyLlama_IR</a>
    </span>
    <a class="footer-link" href="mailto:support@insightreactions.com">support@insightreactions.com</a>
</footer>

</html>
